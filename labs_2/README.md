# Лаба 2: Арифметическое сжатие

Сжимает файлы без потерь по алгоритму арифметического кодирования из книги Ватолина и Ратушняка.

## Как юзать


```bash
git clone https://github.com/kb-nik/AECI_labs.git
cd AECI_labs/labs2
```

Сжать:
```bash
python3 main.py encode input.txt compressed
```

Распаковать:
```bash
python3 main.py decode compressed.zhm output.txt
```

## Что умеет

- Сжимает в `.zhm` файлы с таблицей частот
- Пишет логи в `arithmetic.log` 
- Целочисленная реализация (делитель 65535)
- Проверяет совпадение после декодирования

## Тесты

- Большой файл: 540 байт → 226 байт (58% сжатия)
- Маленький: 6 байт → 28 байт (хуже из-за таблицы частот)
- Декодирование совпадает с оригиналом

## Логи

Пример:
```
2025-11-17 21:23:18 - Encode: labs2/input.txt (540B) -> labs2/test.zhm (226B), 58.15% saved
2025-11-17 21:23:18 - Decode: labs2/test.zhm (226B) -> labs2/restored.txt (540B)
2025-11-17 21:23:18 - Decode: matches original file
```

## Замечания

- Маленькие файлы плохо сжимаются (таблица частот занимает место в заголовке)
- Арифметика чуть лучше Хаффмана (226 vs 230 байт)
- Водяной знак ZHM! защищает от подмены.
